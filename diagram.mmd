
---
title: Testing generation of schemes
---
classDiagram

	class Ownable {
		ğŸ”’ address _owner
		â— owner() address 
		âš™ï¸ _checkOwner() 
		â— renounceOwnership() 
		â— transferOwnership(address newOwner) 
		âš™ï¸ _transferOwnership(address newOwner) 
	}

	class FeeManager {
		â— uint112 feeIn
		â— uint112 feeOut
		â— uint32 feePrecision
		â— address feeTo
		âš™ï¸ _calculateFee(uint amount, uint112 fee) uint 
		â— setFees(uint112 _feeIn, uint112 _feeOut) 
		â— setFeeTo(address _feeTo) 
	}

	class AddressProviderKeeper {
		ğŸ”’ IMaatAddressProvider _addressProvider
		â— bytes4 AddressProviderInterfaceId
		ğŸ”’ _validateAddressProviderInterface(address addressProvider_) 
		â— addressProvider() IMaatAddressProvider 
	}

	class Roles {
		â— address commander
		â— address watcher
		â— setCommander(address _commander) 
		â— setWatcher(address _watcher) 
	}

	class WithdrawRequestLogic {
		â— uint cancelWithdrawTimer
		â— uint32 chainEid
		âš™ï¸ mapping(uint32 => bool) _supportedDstEidToWithdraw
		âš™ï¸ mapping(bytes32 => WithdrawRequestInfo) _withdrawRequests
		â— setWithdrawCancelTimer(uint timer) 
		âš™ï¸ _createWithdrawRequest(bytes32 intentionId, address _owner, address receiver, address asset, uint32 dstEid, uint shares) 
		âš™ï¸ _cancelWithdrawRequest(bytes32 intentionId) owner shares 
		âš™ï¸ _cleanRequestInfo(address owner, bytes32 intentionId) 
		â— addChainToWithdraw(uint32 _dstEid) 
		â— removeChainToWithdraw(uint32 _dstEid) 
		â— getWithdrawRequest(bytes32 intentionId) WithdrawRequestInfo 
		â— getSupportedDstEidToWithdraw(uint32 _dstEid) bool 
	}

	class TokenKeeper {
		â— ERC20 token
		ğŸ”’ uint _idle
		âš™ï¸ _increaseIdle(uint value) 
		âš™ï¸ _decreaseIdle(uint value) 
		â— idle() uint 
	}

	class StrategyManager {
		âš™ï¸ mapping(bytes32 => Strategy) _supportedStrategies
		âš™ï¸ mapping(address => bytes32) _strategyAddressToId
		â— addStrategy(address strategy) 
		â— removeStrategy(bytes32 strategyId) 
		â— enableStrategy(bytes32 strategyId) 
		â— disableStrategy(bytes32 strategyId) 
		âš™ï¸ _deleteStrategy(bytes32 _strategyId, address strategy) 
		âš™ï¸ _toggleStrategy(bytes32 _strategyId, bool _isActive) 
		â— getStrategyByAddress(address _strategy) bytes32 bool 
		â— getStrategyById(bytes32 _strategyId) address bool 
	}

	class BridgeLogic {
		â— stargateAdapter() IStargateAdapter 
		â— finishBridge(uint256 amountBridged, bytes32 intentionId) 
		âš™ï¸ _finishBridge(uint amountBridged, address sender) 
		âš™ï¸ _bridge(uint256 _amount, uint256 dstEid, bytes32 intentionId) 
		âš™ï¸ _bridgeToUser(uint amount, address _receiver, uint32 dstEid) 
	}

	class Executor {
		â— execute(ActionType[] actionType, ActionInput[] inputs) bool 
		âš™ï¸ _execute(ActionType _type, ActionInput input) 
		âš™ï¸ _depositInStrategy(bytes32 _strategyId, uint amount, bytes32 intentionId) shares 
		âš™ï¸ _withdrawFromStrategy(bytes32 _strategyId, uint amount, bytes32 intentionId) shares 
		âš™ï¸ _fulfillWithdrawRequest(bytes32 intentionId) 
	}

	class Vault {
		â— ERC20 underlyingToken
		â— uint minAmount
		â— deposit(uint _assets, address _receiver) shares 
		â— mint(uint shares, address receiver) assets 
		â— withdraw(uint _assets, address _receiver, address _owner) shares 
		â— redeem(uint256 _shares, address _receiver, address _owner) assets 
		âš™ï¸ _deposit(uint assets, uint shares, address _owner, address receiver) adjustedAssets adjustedShares 
		âš™ï¸ _redeem(uint _shares, address _receiver, address _owner) assets 
		âš™ï¸ _withdraw(uint _assets, address _receiver, address _owner) adjustedShares 
		âš™ï¸ _sendFunds(address _receiver, uint _assets, uint _shares, uint fee) 
		âš™ï¸ _sendFee(uint fee) 
		â— setMinAmount(uint amount) 
		âš™ï¸ _getVaultName(address _asset) string 
		âš™ï¸ _getVaultSymbol(address _asset) string 
		â— oracle() IMaatOracleGlobalPPS 
		â— asset() address 
		â— totalAssets() uint 
		â— convertToShares(uint assets) uint 
		âš™ï¸ _convertToSharesByPrevPPS(uint assets) uint 
		â— convertToAssets(uint shares) uint 
		âš™ï¸ _convertToAssetsByPrevPPS(uint shares) uint 
		â— maxDeposit(address receiver) uint256 
		â— maxMint(address receiver) uint256 
		â— maxRedeem(address receiver) uint 
		â— maxWithdraw(address receiver) uint 
		â— previewDeposit(uint assets) uint 
		â— previewMint(uint shares) uint 
		â— previewWithdraw(uint assets) uint 
		â— previewRedeem(uint shares) uint 
		â— decimals() uint8 
		âš™ï¸ _validateUser(address _owner, address sender) 
		âš™ï¸ _validateMinAmount(uint amount) 
	}

	class TokenVault {
		âš™ï¸ bytes4 TokenVaultInterfaceId
		â— requestWithdraw(uint shares, uint32 dstEid, address _owner, address receiver) intentionId 
		â— requestRebalance() intentionId 
		â— cancelWithdrawal(bytes32 intentionId) owner shares 
		âš™ï¸ _fulfillWithdrawRequest(bytes32 intentionId) 
		â— getIntentionId(address sender, RequestType _type) bytes32 
	}



	Context <|-- Ownable

	Ownable <|-- FeeManager

	Ownable <|-- Roles

	Ownable <|-- WithdrawRequestLogic

	Ownable <|-- StrategyManager

	AddressProviderKeeper <|-- StrategyManager

	TokenKeeper <|-- StrategyManager

	AddressProviderKeeper <|-- BridgeLogic

	TokenKeeper <|-- BridgeLogic

	Roles <|-- Executor

	BridgeLogic <|-- Executor

	StrategyManager <|-- Executor

	WithdrawRequestLogic <|-- Executor

	Ownable <|-- Vault

	AddressProviderKeeper <|-- Vault

	FeeManager <|-- Vault

	TokenKeeper <|-- Vault

	Vault <|-- TokenVault

	Executor <|-- TokenVault